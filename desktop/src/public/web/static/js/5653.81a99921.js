"use strict";(self.webpackChunknogle_react_boilerplate=self.webpackChunknogle_react_boilerplate||[]).push([[5653],{87414:function(e,t,a){var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(67294)),l=(n(a(23930)),n(a(2246))),r=a(74374),u=a(49595),d=a(64586),i=a(31529);const c=l.default.portal.apiServer.imageServer;t.default=e=>{const{promoList:t,onShowPromoDetail:a,isMemberCenter:n,countdowndisplay:l}=e;if(!t.size)return null;const s=n?"MM-DD":u.i18n["promo.period.format"];return t.map((e=>{var t,m;const p=e.get("promoid"),f=(null===(t=e.get("promobanner"))||void 0===t||null===(m=t.find((e=>e.get("type")===r.promoBannerType.BANNER)))||void 0===m?void 0:m.get("imageurl"))||"",g="".concat(c).concat(f),y=(0,i.getPromoName)(e),v=(0,d.formatDate)(e.get("startdate"),s),h=e.get("enddate")?(0,d.formatDate)(e.get("enddate"),s):u.i18n.indefinite,E=!!e.get("enddate");return o.default.createElement("div",{key:p,className:"promo-list-item",onClick:()=>a(p)},o.default.createElement("img",{alt:"",src:g,width:"100%"}),n&&o.default.createElement(o.default.Fragment,null,l&&o.default.createElement("div",{className:"promo-end-date"},o.default.createElement("span",null,"".concat(v," ~ ").concat(h)),E&&o.default.createElement("span",{className:"mps-alert"})),o.default.createElement("h3",null,y)))}))}},70946:function(e,t,a){var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(67294)),l=(n(a(45697)),n(a(94184))),r=(n(a(23930)),n(a(2246))),u=a(31529),d=a(49595),i=a(64586),c=a(74374);const s=r.default.portal.apiServer.imageServer;t.default=e=>{const{promoList:t,onShowPromoDetail:a,countdowndisplay:n,isMemberCenter:r}=e,m=r?"MM-DD":d.i18n["promo.period.format"];return o.default.createElement("div",{className:"promo-grid-container"},t.map(((e,t)=>{var p,f;const g=e.get("promoid"),y=(0,u.getPromoName)(e),v=(null===(p=e.get("promobanner"))||void 0===p||null===(f=p.find((e=>e.get("type")===c.promoBannerType.GRID)))||void 0===f?void 0:f.get("imageurl"))||"",h="".concat(s).concat(v),E=(0,i.formatDate)(e.get("startdate"),m),w=e.get("enddate")?(0,i.formatDate)(e.get("enddate"),m):d.i18n.indefinite,b=!!e.get("enddate");return o.default.createElement("div",{key:g,className:(0,l.default)({"promo-grid-item":!0,center:(t+1)%3==2}),onClick:()=>a(g)},r?o.default.createElement(o.default.Fragment,null,o.default.createElement("img",{src:h,alt:y}),n&&o.default.createElement("div",{className:"promo-end-date"},o.default.createElement("span",null,"".concat(E," ~ ").concat(w)),b&&o.default.createElement("span",{className:"mps-alert"})),o.default.createElement("h3",null,y)):o.default.createElement(o.default.Fragment,null,o.default.createElement("img",{src:h,alt:y}),o.default.createElement("h3",null,y),n&&o.default.createElement("div",{className:"promo-end-date"},o.default.createElement("span",null,"".concat(d.i18n["promo.period"],": "),"".concat(E," ~ ").concat(w)),b&&o.default.createElement("span",{className:"mps-alert"}))))})))}},92541:function(e,t,a){var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=A(a(67294)),l=n(a(45697)),r=n(a(14920)),u=n(a(94184)),d=n(a(2246)),i=n(a(9098)),c=n(a(80634)),s=n(a(41310)),m=n(a(75863)),p=a(70540),f=n(a(98902)),g=A(a(54627)),y=n(a(12041)),v=n(a(43810)),h=n(a(55762)),E=a(31529),w=a(74374),b=a(49595),M=a(29751);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}const N=d.default.portal.apiServer.imageServer,S=e=>{var t,a;let{promoDetail:n,onHandleClose:l,countdowndisplay:r,bannertype:d,onApplyPromo:m}=e;const p=!!n.get("enddate"),f=n.get("promotype")!==w.promoType.INFO&&n.get("promotype")!==w.promoType.ADDITIONAL_DEPOSIT&&n.get("promotype")!==w.promoType.DEPOSIT_LEADERBOARD,g=(0,E.getPromoName)(n),v=(null===(t=n.get("promobanner"))||void 0===t||null===(a=t.find((e=>e.get("type")===d)))||void 0===a?void 0:a.get("imageurl"))||"",h="".concat(N).concat(v),{targetRef:M,onOutsideClick:P}=(0,y.default)({onClick:l}),[A,S]=(0,o.useState)(!1),O=A?"min":"full";return o.default.createElement("div",{className:"hover-container promo-detail-modal",onClick:P},o.default.createElement("div",{className:(0,u.default)("container",O),ref:M},o.default.createElement("div",{className:"header"},o.default.createElement("i",{className:"mps-close",onClick:l})),o.default.createElement("div",{className:"fixed-pt"},o.default.createElement("img",{src:h,alt:g}),o.default.createElement("h1",{className:"title"},g),o.default.createElement("div",{className:(0,u.default)("toggle-btn",O),onClick:()=>S(!A)})),o.default.createElement("div",{className:(0,u.default)("body",{"body-scroll":f})},r&&p&&o.default.createElement(s.default,{enddate:n.get("enddate")}),o.default.createElement(c.default,{defaultValue:n.getIn(["promobanner",0,"description"])||""})),f&&o.default.createElement("div",{className:"apply-btn"},o.default.createElement(i.default,{onClick:m},b.i18n["apply.promo"]))))},O=(e,t)=>{let{promoDetail:a,onHandleClose:n,countdowndisplay:l,bannertype:u}=e;const{logined:d,playerInfoReady:i}=(0,v.default)((e=>({logined:e.players.logined,playerInfoReady:e.players.playerInfoReady}))),c=(0,h.default)(g.getDepositamtForSelfselect),s=(0,h.default)(g.postPromoReq),y=(0,h.default)(g.postTransferToMainAndGetBalanceForSelect),[E,P]=(0,r.default)({showApplyConfirmModal:!1,showApplySuccModal:!1,depositAmt:0,mainWalletBalance:0,showPromoSelfSelectHintModel:!1,showPromoSelfSelectModel:!1}),A=(0,o.useCallback)((()=>{const e=i.get(w.playerInfoReadyEnum.PROMO).filter((e=>!1===e)).size>0;if(!d)return void t.toggleLoginPopup();if(e)return void t.togglePlayerInfoPopup(w.playerInfoReadyEnum.PROMO);const n=a.get("selfselect"),o=a.get("bonustype");n&&o!==w.promoBonusTypeEnum.RANDOM?P({showPromoSelfSelectHintModel:!0}):P({showApplyConfirmModal:!0})}),[i,d,t,a]),N=(0,o.useCallback)((()=>P({showApplyConfirmModal:!1})),[]),O=(0,o.useCallback)((e=>{(0,M.getFingerprint2)((t=>{s({promoid:a.get("promoid"),platform:2,reqfingerprint:t,selfselectamt:e,requesttime:Date.now(),autoapprove:a.get("autoapprove")}).then((()=>{P({showApplySuccModal:!0})}))}))}),[a,s]),T=(0,o.useCallback)((()=>P({showPromoSelfSelectHintModel:!1})),[]),D=(0,o.useCallback)((()=>{const e=a.get("promoid");P({showPromoSelfSelectHintModel:!1});const t=new Promise((t=>{(0,M.getFingerprint2)((a=>{c({promoid:e,platform:2,reqfingerprint:a}).then((e=>{t(e)}))}))})),n=new Promise((t=>{(0,M.getFingerprint2)((a=>{y({promoid:e,platform:2,reqfingerprint:a}).then((e=>{t(e)}))}))}));Promise.all([t,n]).then((e=>{let[t,a]=e;P({depositAmt:t,mainWalletBalance:a,showPromoSelfSelectModel:!0})}))}),[a,c,y]),R=(0,o.useCallback)((()=>P({showPromoSelfSelectModel:!1})),[]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(S,{promoDetail:a,onHandleClose:n,countdowndisplay:l,bannertype:u,onApplyPromo:A}),E.showApplyConfirmModal&&o.default.createElement(m.default,{handleClose:N,handleConfirm:()=>{O(),N()},sentence:b.i18n["apply.promo.des"],confirmButtonTxt:b.i18n.continue}),E.showApplySuccModal&&o.default.createElement(p.AlertModal,{onHandleClose:()=>{P({showApplySuccModal:!1}),n()},title:b.i18n.tipsModal,message:b.i18n["apply.promo.succ"],success:!0}),E.showPromoSelfSelectHintModel&&o.default.createElement(m.default,{handleClose:T,handleConfirm:D,sentence:b.i18n["promo.transfer.to.main.des"]}),E.showPromoSelfSelectModel&&o.default.createElement(f.default,{promoRanges:a.get("promoranges"),promoBonusType:a.get("bonustype"),promoTurnoverType:a.get("turnovertype"),currency:a.get("currency"),subwalletid:a.get("subwalletid"),depositAmt:E.depositAmt,mainWalletBalance:E.mainWalletBalance,handleClose:R,handleConfirm:e=>{O(e),R()}}))};O.contextTypes={toggleLoginPopup:l.default.func,togglePlayerInfoPopup:l.default.func};var T=O;t.default=T},41310:function(e,t,a){var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}(a(67294)),l=(n(a(45697)),n(a(93036))),r=a(49595);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const d=e=>e<10?"0".concat(e):e,i={wrapper:{display:"flex",alignItems:"center"},icon:{fontSize:30,marginRight:5}};t.default=e=>{let{enddate:t}=e;const a=(0,o.useMemo)((()=>{const e=(new Date).getTime();return Math.floor((t-e)/1e3)}),[t]),{hours:n,minutes:u}=(0,l.default)({seconds:a}),c=d(u),s=d(n%24),m=d(Math.floor(n/24));return o.default.createElement("div",{className:"promo-end-date",style:i.wrapper},o.default.createElement("span",{className:"mps-alert",style:i.icon}),"".concat(m," ").concat(r.i18n.days," ").concat(s," ").concat(r.i18n.hours," ").concat(c," ").concat(r.i18n.minutes))}},98902:function(e,t,a){var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(59713)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}(a(67294)),r=n(a(80702)),u=n(a(69578)),d=n(a(2953)),i=n(a(33340)),c=n(a(21973)),s=n(a(70378)),m=n(a(8686)),p=a(49595),f=a(90476),g=a(31315),y=n(a(25330)),v=n(a(29861)),h=a(74374),E=a(31529);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}const b="".concat("https://csi.20icipp.com/img/static/","ic-cancel.svg");class M extends l.Component{constructor(e){super(e),(0,o.default)(this,"rowDataGetter",(e=>{let{rowIndex:t}=e;const{promoRanges:a}=this.props;return a.get(t)||{}})),(0,o.default)(this,"amountFormatRender",(e=>{let{dataKey:t,rowData:a,rowIndex:n,columnIndex:o}=e;const{currency:l}=this.props;return a.get instanceof Function?(0,f.formatMoney)(a.get(t))+"+ "+p.i18n[l]:0})),(0,o.default)(this,"fixAmountFormatRender",(e=>{let{dataKey:t,rowData:a,rowIndex:n,columnIndex:o}=e;const{currency:l}=this.props;return a.get instanceof Function?(0,f.formatMoney)(a.get(t))+p.i18n[l]:0})),(0,o.default)(this,"percentageFormatRender",(e=>{let{dataKey:t,rowData:a,rowIndex:n,columnIndex:o}=e;return a.get instanceof Function?"".concat(a.get(t),"%"):0})),(0,o.default)(this,"basedFormatRender",(e=>{let{dataKey:t,rowData:a,rowIndex:n,columnIndex:o}=e;return a.get instanceof Function?(0,E.i18nVariables)(p.i18n["promo.turnover.base"],{N:a.get(t)}):0})),(0,o.default)(this,"onSeletedPromoRangeRow",(e=>{const{promoRanges:t,depositAmt:a}=this.props,n=parseInt(Object.keys(e.toJS())[0],10),o=t.get(n);let l=a;null!==n&&(n!==t.size-1&&a>t.get(n+1).get("lowerbound")-1&&(l=t.get(n+1).get("lowerbound")-1),this.setState({selectedPromoRange:o,minAmount:o.get("lowerbound"),maxAmount:l}))})),(0,o.default)(this,"amountValidator",(e=>{const{minAmount:t,maxAmount:a}=this.state;return null===t||null===a||e>=t&&e<=a})),(0,o.default)(this,"amountValidatorTip",(()=>{const{minAmount:e,maxAmount:t}=this.state;return p.i18n["validate.number.should.below"]+e+", "+p.i18n["validate.number.and.upto"]+t})),(0,o.default)(this,"checkValidate",(()=>{const{form:{validate:e}}=this.props;return e({autoFocus:!1})})),this.state={selectedPromoRange:null,minAmount:null,maxAmount:null,amount:null}}render(){const{form:{decorateInput:e,validate:t},promoRanges:a,promoBonusType:n,promoTurnoverType:o,subwalletid:d,depositAmt:E,mainWalletBalance:w,currency:M,handleClose:P,handleConfirm:A}=this.props,{selectedPromoRange:N,minAmount:S,maxAmount:O,amount:T}=this.state;let D=[];const R=a?a.size:0;R>0&&a.forEach(((e,t)=>{E<e.get("lowerbound")&&D.push(t)}));let C="";null!==N&&(C=S+"-"+O+p.i18n[M]);const x=t({autoFocus:!1}),k=null===T||!x;let I=p.i18n["promo.last.deposit"]+": "+E+p.i18n[M]+" "+p.i18n["wallet.balance"]+": "+w+p.i18n[M],j=p.i18n["apply.promotion"];if(null!=N&&null!=T&&""!==T&&!isNaN(T)){let e=0;n===h.promoBonusTypeEnum.AMOUNT?e=N.get("bonusvalue"):n===h.promoBonusTypeEnum.PERCENTAGE&&(e=T*N.get("bonusvalue")*.01),j=p.i18n["apply.promotion"]+": "+(0,f.formatMoney)(e),o===h.promoTurnoverTypeEnum.MUTIPLE?I=p.i18n.preferentialAudit+": "+(0,f.formatMoney)((T+e)*N.get("turnovervalue")):o===h.promoTurnoverTypeEnum.FORMULA&&(I=p.i18n.preferentialAudit+": "+(0,f.formatMoney)((N.get("lowerbound")+e)*N.get("turnovervalue")+T-N.get("lowerbound")))}const F=p.i18n["transfer.to.wallet"]+":"+(d||p.i18n["text.wallet.MAIN"]);return l.default.createElement("div",{className:"hover-container promo-selfselect-modal"},l.default.createElement("div",{className:"modal confirm-body-modal"},l.default.createElement(y.default,null,l.default.createElement("div",{className:"header",style:{height:"70px"}},l.default.createElement("h2",{className:"title-center"},p.i18n["select.promo.option"]),l.default.createElement("img",{onClick:()=>P(),src:b,className:"close",alt:"close",style:{top:"15px",right:"15px"}})),l.default.createElement("div",{className:"body",style:{padding:"10px"}},l.default.createElement("div",{style:{width:"100%"}},l.default.createElement(r.default,{ref:"promoTable",style:{width:"90%"},noDataContent:v.default,rowDataGetter:this.rowDataGetter,rowCount:R,pageSize:R,page:1,singleSelect:!0,disableIndices:D,onSelectHandler:this.onSeletedPromoRangeRow,height:35*R+40},l.default.createElement(u.default,{label:p.i18n["qualified.amount"],dataKey:"lowerbound",width:200,columnDataGetter:this.amountFormatRender,flexGrow:1}),l.default.createElement(u.default,{label:h.promoBonusTypeEnum[n],dataKey:"bonusvalue",width:100,columnRenderer:n===h.promoBonusTypeEnum.PERCENTAGE?this.percentageFormatRender:this.fixAmountFormatRender,flexGrow:1}),l.default.createElement(u.default,{label:h.promoTurnoverTypeEnum[o],dataKey:"turnovervalue",width:150,columnRenderer:o===h.promoTurnoverTypeEnum.AMOUNT?this.fixAmountFormatRender:this.basedFormatRender,flexGrow:1}))),l.default.createElement("div",{style:{textAlign:"center",paddingTop:"10px",paddingLeft:"10px",fontSize:"inherit"}},l.default.createElement(i.default,null,l.default.createElement(c.default,{isItemRequire:!0,label:"amount",labelName:p.i18n["promo.request.amount"],tooltip:p.i18n["promo.request.amount.tip"],labelDirection:"horizontal"},e("amount",{isRequired:!0,rule:{validator:[...(0,g.checkEmptyAndNumberValidator)(p.i18n).validator,e=>this.amountValidator(e)],tip:[...(0,g.checkEmptyAndNumberValidator)(p.i18n).tip,()=>this.amountValidatorTip()]}})(l.default.createElement(s.default,{placeholder:C,onChange:e=>{this.setState({amount:parseInt(e,10)})}})))),l.default.createElement("p",{className:"text-center",style:{color:"#777777"}},I))),l.default.createElement("div",{style:{textAlign:"center"}},l.default.createElement(m.default,{onClick:()=>A(T),disabled:k},j)),l.default.createElement("div",{style:{padding:"10px"}},l.default.createElement("p",{className:"text-center",style:{color:"#777777",padding:"5px"}},F)))))}}var P=(0,d.default)({withRef:!0})(M);t.default=P},29861:function(e,t,a){var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(67294)),l=a(49595);t.default=()=>o.default.createElement("div",null,l.i18n["no.data"])},93036:function(e,t,a){var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(67294),l=n(a(30381));t.default=function(e){const t=(0,o.useRef)(),a=(0,o.useRef)((new Date).getTime()+1e3*e.seconds),[n,r]=(0,o.useState)(e.seconds?1e3*e.seconds:0),u=()=>{const n=(new Date).getTime();if(n>=a.current)return clearTimeout(t.current),r(0),void(e.onEnd&&e.onEnd());r(a.current-n)};if((0,o.useEffect)((()=>{const e=setTimeout(u,500);return t.current=e,()=>clearTimeout(t.current)}),[n]),e.asSeconds)return Math.floor(n/1e3);const d=l.default.duration(Math.floor(n/1e3),"seconds"),i=Math.floor(d.asDays()),c=d.hours();return{hours:Math.floor(d.asHours()),minutes:d.minutes(),seconds:d.seconds(),daysData:{days:i,hoursByDay:c}}}}}]);