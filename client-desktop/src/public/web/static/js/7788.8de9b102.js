"use strict";(self.webpackChunknogle_react_boilerplate=self.webpackChunknogle_react_boilerplate||[]).push([[7788],{48719:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.NrcInputCheckboxGroup=t.NrcInputCheckbox=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=p(n(45697)),r=n(67294),o=p(r),u=p(n(94184)),s=p(n(41143));function p(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=t.NrcInputCheckbox=function(e){function t(e){f(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onCheckboxChangeHandler=function(e){e instanceof Object&&e.preventDefault();var t=n.props,a=t.value,i=t.readOnly,l=t.onChange,r=n.state.checked;i||l(a,!r)},n.state={checked:e.checked||!1},(0,s.default)(e.value,'Property "value" is needed to initiate NrcInputCheckbox'),n}return h(t,e),i(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({checked:!!e.checked})}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,i=(e.inputOptions,e.label),l=e.readOnly,r=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["name","value","inputOptions","label","readOnly"]),s={readOnly:l};return o.default.createElement("span",{style:{minHeight:"25px"}},o.default.createElement("input",a({},r,{className:(0,u.default)(s),disabled:l,name:t,id:t+"-"+n,type:"checkbox",defaultValue:n,checked:this.state.checked})),o.default.createElement("label",{htmlFor:t+"-"+n,className:(0,u.default)(s),onClick:this.onCheckboxChangeHandler},i||n))}}]),t}(r.Component);v.displayName="NrcInputCheckbox",v.propTypes={checked:l.default.bool,name:l.default.string,onChange:l.default.func,label:l.default.string,readOnly:l.default.bool,value:l.default.oneOfType([l.default.string,l.default.array,l.default.number]).isRequired},v.defaultProps={name:"",onChange:function(){}};var m=t.NrcInputCheckboxGroup=function(e){function t(e){f(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInputChangeHandler=function(e,t){var i=n.props,l=i.onChange;if(!i.readOnly){var r=a({},n.state,c({},e,t));n.setState(r),l(r)}},n.getInputValue=function(){return!Object.keys(n.state).every((function(e){return!n.state[e]}))},n.setInputValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.initialValue;n.setState(e)},n.renderCheckbox=function(e){var t=n.props,a=t.inputOptions,i=t.name,l=t.readOnly,r=n.state[""+e.props.value];return"NrcInputCheckbox"!==e.type.displayName?o.default.cloneElement(e,{inputOptions:e.props.inputOptions||{},readOnly:l||e.props.readOnly,onChange:e.props.onChange}):o.default.cloneElement(e,{ref:e.props.value+"__ref",checked:r,inputOptions:a,name:i,onChange:n.onInputChangeHandler,readOnly:l})},n.state={},n.initialValue={},n.info=e.inputOptions.info||"",e.children&&e.children instanceof Array?e.children.forEach((function(e){var t=void 0===n.state[""+e.props.value];(0,s.default)(t,"Should not have two checkboxes that have the same values."),n.initialValue[e.props.value]=e.props.checked})):n.initialValue[e.children.props.value]=e.children.props.checked,n.state=Object.assign({},n.initialValue),n}return h(t,e),i(t,[{key:"render",value:function(){var e,t=this.props,n=t.children,a=t.className,i=t.inputSpan,l=t.readOnly,r=t.direction,s="function"==typeof this.info?this.info():this.info,p=(c(e={"nrc-form-input":!0,"nrc-checkbox":!0},"nrc-u-"+i,!!i),c(e,"nrc-flex-column","vertical"===r),c(e,"readOnly",l),e);return o.default.createElement("div",{className:(0,u.default)(p)+" "+a},o.default.Children.map(n,this.renderCheckbox),o.default.createElement("small",{className:"info-msg"},s))}}]),t}(r.Component);m.displayName="NrcInputCheckboxGroup",m.propTypes={children:l.default.oneOfType([l.default.object,l.default.array]),className:l.default.string,inputOptions:l.default.object,inputSpan:l.default.string,name:l.default.string,onChange:l.default.func,readOnly:l.default.bool,direction:l.default.oneOf(["vertical","horizontal"])},m.defaultProps={className:"",inputOptions:{},inputSpan:"1-1",name:"",onChange:function(){},readOnly:!1,direction:"horizontal"}},44164:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=p(n(45697)),r=n(67294),o=p(r),u=p(n(94184)),s=p(n(41143));function p(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mM88x8AAp0BzdNtlUkAAAAASUVORK5CYII=",d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));h.call(n);var a=e.defaultValue&&e.defaultValue.imageURL||e.imageURL;if(n.info=e.inputOptions.info||"",n.initialValue={file:null,imageURL:a,iconClass:a?"icon-delete":"icon-upload",uploading:!1,uploaded:!1,label:a?null:e.uploadLabel,isValid:!0,validateDetail:[],preview:e.preview||!1,showPreview:!1,viewer:e.viewer||!1,title:e.title||null},n.isValidator=!!e.inputOptions.rule,n.isValidator){(0,s.default)(!!e.inputOptions.rule.validator,"If rule is given, must have validator(function returns boolean)");var i=e.inputOptions.rule.validator,l=e.inputOptions.rule.tip||"",r=Array.isArray(i),o=Array.isArray(l);n.validator=r?i:[i],n.tip=o?l:[l]}return n.state=n.initialValue,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e,t=this.props,n=t.inputOptions,a=t.inputSpan,i=t.className,l=t.name,r=t.readOnly,s=t.accept,p=n.status,f=n.invalidTipClassname,d=this.state,h=d.imageURL,v=d.iconClass,m=d.label,g=d.isValid,y=d.validateDetail,b=d.preview,O=d.showPreview,C=d.title,w=d.viewer,V=(c(e={"nrc-form-input":!0,"nrc-file":!0,"file-uploaded":h},"nrc-u-"+a,!!a),c(e,"readOnly",r),e),k={invalid:"invalid"===p,readOnly:r},I=this.tip&&this.tip.filter((function(e,t){return!y[t]})),_="function"==typeof this.info?this.info():this.info;return o.default.createElement("div",{className:(0,u.default)(V)+" "+i},o.default.createElement("input",{id:l,name:l,type:"file",ref:"input",className:(0,u.default)(k),onChange:this.onImageChange,disabled:!!h||r,accept:s}),o.default.createElement("label",{htmlFor:h?"":l,style:h?{backgroundImage:"url("+h+")"}:{}},o.default.createElement("i",{className:v,onClick:h?this.onDelete:function(){}}),m),o.default.createElement("small",{className:g?"info-msg":"invalid-msg"},g?null:f?o.default.createElement("i",{className:f}):null,g?_:"function"==typeof I[0]?I[0]():I[0]),h&&b?o.default.createElement("span",{className:"preview-link",onClick:this.onShowPreview},o.default.createElement("i",{className:"icon-view"})):null,h&&b&&O?o.default.createElement("div",{className:"modal-viewer",onClick:this.onShowPreview},o.default.createElement("img",{src:h}),o.default.createElement("span",null,C)):null,w?o.default.createElement("div",{className:"viewer"},o.default.createElement("img",{src:h})):null)}}]),t}(r.Component),h=function(){var e=this;this.onImageChange=function(t){if(!e.props.readOnly){var n=e.isValidator,a=e.validate,i=t.target.files[0];i.type.search("image")>=0?e.resizeImage(i,(function(t,l,r){i.width=l,i.height=r,n&&a(i),e.setState({file:i,uploading:!1,uploaded:!0,imageURL:t,iconClass:"icon-delete",label:""},(function(){return e.props.onChange(i,t)}))})):e.setState({file:i,uploading:!1,uploaded:!0,imageURL:f,iconClass:"icon-delete",label:""},(function(){return e.props.onChange(i,f)}))}},this.resizeImage=function(t,n){var a=e.props.previewImageSize,i=new FileReader;i.onload=function(){var e=document.createElement("canvas"),t=new Image;t.onload=function(){var l=t.width,r=t.height;if(e.getContext){var o=e.getContext("2d"),u=parseFloat(a/l);e.width=a,e.height=r*u,o.scale(u,u),o.drawImage(t,0,0),n(e.toDataURL(),l,r)}else n(i.result,l,r)},t.src=i.result},i.readAsDataURL(t)},this.onDelete=function(t){t.preventDefault(),t.stopPropagation(),e.props.readOnly||(e.refs.input.value=null,e.setState(a({},e.initialValue,{imageURL:null,file:null,iconClass:"icon-upload",label:e.props.uploadLabel})),e.props.onDelete())},this.onShowPreview=function(){e.setState({showPreview:!e.state.showPreview})},this.getInputValue=function(){return e.state.file},this.setInputValue=function(){e.refs.input.value=null,e.setState(a({},e.initialValue))},this.validate=function(t){var n=e.state.imageURL,a=t||e.getInputValue(),i=e.validator.map((function(e){return e(a)})),l=i.every((function(e){return!!e})),r=!!e.initialValue.imageURL,o=e.initialValue.imageURL!==n;return e.setState({isValid:l||r&&!o,validateDetail:i}),l||r&&!o}};t.default=d,d.displayName="ImageUploader",d.propTypes={className:l.default.string,defaultValue:l.default.object,inputOptions:l.default.object,inputSpan:l.default.string,name:l.default.string,imageURL:l.default.string,title:l.default.string,readOnly:l.default.bool,preview:l.default.bool,viewer:l.default.bool,uploadLabel:l.default.string,uploadingLabel:l.default.string,onChange:l.default.func,onDelete:l.default.func,invalidTipClassname:l.default.string,previewImageSize:l.default.number},d.defaultProps={onChange:function(){},onDelete:function(){},inputOptions:{},inputSpan:"1-1",imageURL:null,className:"",name:"",uploadLabel:"Choose a image",uploadingLabel:"Uploading...",accept:"image/*",previewImageSize:100}},59768:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=f(n(45697)),r=n(67294),o=f(r),u=n(43129),s=f(u),p=f(n(94184)),c=f(n(41143));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.onChangeHandler=function(e){var t=n.props.onChange;n.isValidator&&n.validate(null===e?"":e),n.setState({inputValue:e,visited:!0}),t(e)},n.onInputChangeHandler=function(e){n.isValidator?n.validate(null===e?"":e,{pureValidate:!0})&&n.props.onInputChange(e):(n.setState({inputText:e}),n.props.onInputChange(e))},n.onKeyDownHandler=function(e){switch(e.keyCode){case 13:if(!n.props.onEnter)break;e.preventDefault(),n.props.onEnter()}return n.props.onKeyDown&&n.props.onKeyDown(e,a({},n.state))},n.getInputValue=function(){return n.state.inputValue},n.setInputValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.initialValue;n.setState({inputValue:e})},n.validate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.pureValidate,i=void 0!==a&&a,l=void 0!==e?e:n.getInputValue(),r=n.validator.map((function(e){return e(l||"")})),o=r.every((function(e){return!!e}));return Array.isArray(l)||n.setState({inputText:l}),i||n.setState({isValid:o,validateDetail:r}),o},n.initialValue=e.defaultValue||e.value,n.isValidator=!!e.inputOptions.rule,n.info=e.inputOptions.info||"",n.isValidator){(0,c.default)(!!e.inputOptions.rule.validator,"If rule is given, must have validator(function returns boolean)");var i=e.inputOptions.rule.validator,l=e.inputOptions.rule.tip||"",r=Array.isArray(i),o=Array.isArray(l);n.validator=r?i:[i],n.tip=o?l:[l]}return n.state={isValid:!0,validateDetail:[],visited:!1,inputValue:n.initialValue,inputText:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){return!(!e.value&&void 0===e.value||(e.value!==this.state.inputValue&&this.setState({inputValue:e.value}),0))}},{key:"render",value:function(){var e,t=this.props,n=t.inputOptions,i=t.inputSpan,l=t.className,r=(t.value,t.onInputChange,t.readOnly),c=t.name,f=t.async,h=t.loadOptions,v=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["inputOptions","inputSpan","className","value","onInputChange","readOnly","name","async","loadOptions"]),m=n.status,g=n.invalidTipClassname,y=this.state,b=y.inputValue,O=y.isValid,C=y.validateDetail,w=(d(e={"nrc-form-input":!0,"nrc-inputselect":!0},"nrc-u-"+i,!!i),d(e,"readOnly",r),e),V={invalid:"invalid"===m||!O,readOnly:r},k=this.tip&&this.tip.filter((function(e,t){return!C[t]})),I="function"==typeof this.info?this.info():this.info;return o.default.createElement("div",{className:(0,p.default)(w)+" "+l,id:c},f?o.default.createElement(u.Async,a({},v,{value:b,disabled:r,loadOptions:h,onChange:this.onChangeHandler,onInputChange:this.onInputChangeHandler,className:(0,p.default)(V),onInputKeyDown:this.onKeyDownHandler,onBlurResetsInput:!1,onSelectResetsInput:!1})):o.default.createElement(s.default,a({},v,{value:b,disabled:r,ref:"input",onChange:this.onChangeHandler,onInputChange:this.onInputChangeHandler,className:(0,p.default)(V),onInputKeyDown:this.onKeyDownHandler})),o.default.createElement("small",{className:O?"info-msg":"invalid-msg"},O?null:g?o.default.createElement("i",{className:g}):null,O?I:"function"==typeof k[0]?k[0]():k[0]))}}]),t}(r.Component);t.default=h,h.displayName="InputSelect",h.propTypes={className:l.default.string,invalidTipClassname:l.default.string,defaultValue:l.default.string,inputOptions:l.default.object,inputSpan:l.default.string,isRequired:l.default.bool,name:l.default.string,onChange:l.default.func,onInputChange:l.default.func,onKeyDown:l.default.func,readOnly:l.default.bool,onEnter:l.default.func,status:l.default.string,value:l.default.oneOfType([l.default.object,l.default.string]),async:l.default.bool,loadOptions:l.default.func},h.defaultProps={defaultValue:"",inputOptions:{},inputSpan:"1-1",isRequired:!1,onChange:function(){},onInputChange:function(){},className:"",status:"normal",async:!1,loadOptions:function(){}}}}]);