"use strict";(self.webpackChunknogle_react_boilerplate=self.webpackChunknogle_react_boilerplate||[]).push([[7870],{22136:function(e,t,a){var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(67294)),l=a(39711),o=r(a(9098)),s=a(49595),c=r(a(55233));t.default=e=>{let{customerlink:t,onCancel:a}=e;const r=(0,l.useHistory)();return n.default.createElement("div",{className:"cs"},n.default.createElement("div",{className:"content"},s.i18n["contact.cs.to.get.password"]),n.default.createElement("div",{className:"btns"},n.default.createElement(o.default,{className:"grey",onClick:a},s.i18n.cancel),n.default.createElement(o.default,{onClick:()=>{t&&window.open(t),r.push(c.default.ROOT)}},s.i18n["contact.cs"])))}},99147:function(e,t,a){var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(59713)),l=M(a(67294)),o=r(a(70902)),s=M(a(53209)),c=a(80831),u=a(46035),d=a(56335),i=r(a(9098)),m=a(31529),f=a(49595),p=a(34093),b=a(26061),g=r(a(55762)),E=r(a(93036)),v=a(7758),y=r(a(17947)),w=a(74374),h=r(a(23197));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const P={accoutnForm:s.object({playerId:p.playeridSchema.default("").required(f.i18n["validate.empty"]),mobile:p.mobileSchema.default("").required(f.i18n["validate.empty"])}),resetPasswordForm:s.object({verificationCode:p.numberSchema.required(f.i18n["validate.empty"]),password:p.playerPasswordSchema.default("").required(f.i18n["validate.empty"]),newpassword:(0,p.repeatPasswordSchema)().default("").required(f.i18n["validate.empty"])})},F=Object.keys(P).reduce(((e,t)=>{var a;return O(O({},e),{},{[t]:null===(a=P[t])||void 0===a?void 0:a.castOrDefault()})}),{}),S=e=>{let{renderCancelBtn:t,onSubmit:a,accountFormErrorMsg:r,onAccountFormItemsFocus:n}=e;return l.default.createElement("div",{className:"nrc-form nrc-form-block"},l.default.createElement(c.Formik,{initialValues:F.accoutnForm,validationSchema:P.accoutnForm,onSubmit:a},(e=>{let{handleSubmit:a,isValid:o}=e;return l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:"mg-bottom"},l.default.createElement(u.InputField,{label:f.i18n["player.label"],name:"playerId",placeholder:f.i18n.pleaseenterlogin,onFocus:n,isRequired:!0})),l.default.createElement(d.MobileField,{label:f.i18n.mobile,name:"mobile",placeholder:f.i18n.pleaseentermobile,onFocus:n,defaultCountry:w.defaultTelCountry,onlyCountries:(0,h.default)(),isRequired:!0}),r&&l.default.createElement("div",{className:"error-msg"},r),l.default.createElement("div",{className:"btns"},t(),l.default.createElement(i.default,{disabled:!o,onClick:a},f.i18n["get.sms.code"])))})))},N=e=>{let{seconds:t,onClick:a}=e;const r=(0,E.default)({seconds:t,asSeconds:!0});return l.default.createElement(i.default,{disabled:r>0,onClick:a},r>0?"".concat(f.i18n.resend," (").concat(r).concat(f.i18n.second,")"):f.i18n.resend)},j=e=>{let{mobile:t,seconds:a,secondsKey:r,resendSMSCode:n,renderCancelBtn:o,onSubmit:s,accountFormErrorMsg:d,resetPasswordFormErrorMsg:p,resetPasswordFormErrorType:b,onResetPasswordFormItemsFocus:g}=e;const E=(0,l.useMemo)((()=>{const e=t.length;return t.replace(/\s+/g,"").split("").map(((t,a)=>a<3||a>e-4?t:"*")).join("")}),[t]),v=(0,l.useCallback)((e=>{n(),e("verificationCode","",!1)}),[n]);return l.default.createElement("div",{className:"nrc-form nrc-form-block"},l.default.createElement(c.Formik,{initialValues:F.resetPasswordForm,validationSchema:P.resetPasswordForm,onSubmit:s},(e=>{let{handleSubmit:t,isValid:n,setFieldValue:s}=e;return l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:"sms-code-field"},l.default.createElement(u.InputField,{label:(0,m.i18nVariables)(f.i18n["the.msg.of.get.the.sms.code"],{maskPhoneNumber:E}),name:"verificationCode",placeholder:f.i18n["error.login.9"],onFocus:g,isRequired:!0}),l.default.createElement(N,{key:r,seconds:a,onClick:()=>{v(s)}})),d&&l.default.createElement("div",{className:"error-msg"},d),"verificationCodeErr"===b&&p&&l.default.createElement("div",{className:"error-msg"},p),l.default.createElement("div",{className:"mg-bottom mg-top"},l.default.createElement(u.InputField,{label:f.i18n["new.password"],type:"password",name:"password",placeholder:f.i18n["plz.input.new.password"],onFocus:g,isRequired:!0})),l.default.createElement(u.InputField,{label:f.i18n["confirm.new.password"],type:"password",name:"newpassword",placeholder:f.i18n["plz.input.new.password.again"],onFocus:g,isRequired:!0}),"generalErr"===b&&p&&l.default.createElement("div",{className:"error-msg"},p),l.default.createElement("div",{className:"btns"},o(),l.default.createElement(i.default,{disabled:!n,onClick:t},f.i18n.submit)))})))},T=e=>{let{renderCancelBtn:t,setIsMsgLayout:a,goToLogin:r}=e;return(0,o.default)((()=>{a(!0),document.getElementById("forget-password-title")&&(document.getElementById("forget-password-title").style.visibility="hidden")})),l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:"successful-msg-block"},l.default.createElement("img",{alt:"icon",src:"".concat("https://csi.20icipp.com/img/static/","success-icon.png")}),l.default.createElement("div",{className:"title"},f.i18n["warm.hint"]),l.default.createElement("div",{className:"msg"},f.i18n["reset.password.successful"])),l.default.createElement("div",{className:"btns"},t(f.i18n.close),l.default.createElement(i.default,{onClick:r},f.i18n.signin)))};t.default=e=>{let{onCancel:t,setIsMsgLayout:a,goToLogin:r}=e;const[n,o]=(0,l.useState)(1),[s,c]=(0,l.useState)(0),[u,d]=(0,l.useState)((()=>"".concat(s,"-").concat((new Date).getTime()))),[m,p]=(0,l.useState)(F.accoutnForm),[E,w]=(0,l.useState)(""),[h,C]=(0,l.useState)(""),[M,k]=(0,l.useState)(""),O=(0,g.default)(b.sendForgetPasswordSMSCode),P=(0,g.default)(b.resetPasswordWithSMSCode),N=(0,l.useCallback)((e=>{p(e),O(e).then((e=>{const{countdown:t}=e;c(t),d("".concat(t,"-").concat((new Date).getTime())),w(""),o(2)})).catch((e=>{let{payload:{code:t}}=e;const a=v.smsErrorMsgEnum[t]||v.smsErrorMsgEnum.general;w(a)}))}),[]),I=(0,l.useCallback)((e=>{const t={playerId:m.playerId,mobile:m.mobile,password:(0,y.default)(e.password,m.playerId),verificationCode:e.verificationCode};P(t).then((()=>{o(3),C(""),k(""),w("")})).catch((e=>{let{payload:{code:t}}=e;const a=v.resetPasswordErrorMsgEnum[t]||v.resetPasswordErrorMsgEnum.general,r=[2,3].includes(t)?"verificationCodeErr":"generalErr";C(a),k(r),w("")}))}),[m]),_=(0,l.useCallback)((()=>{O(m).then((e=>{const{countdown:t}=e;c(t),d("".concat(t,"-").concat((new Date).getTime())),w(""),C(""),k("")})).catch((e=>{let{payload:{code:t}}=e;const a=v.smsErrorMsgEnum[t]||v.smsErrorMsgEnum.general;w(a),C(""),k("")}))}),[m]),D=(0,l.useCallback)((()=>{w("")}),[]),q=(0,l.useCallback)((()=>{w(""),C(""),k("")}),[]),R=(0,l.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.i18n.cancel;return l.default.createElement(i.default,{className:"grey",onClick:t},e)}),[t]);return l.default.createElement("div",{className:"sms"},l.default.createElement("div",{className:"content"},1===n&&l.default.createElement(S,{renderCancelBtn:R,onSubmit:N,accountFormErrorMsg:E,onAccountFormItemsFocus:D}),2===n&&l.default.createElement(j,{mobile:m.mobile,seconds:s,secondsKey:u,resendSMSCode:_,renderCancelBtn:R,onSubmit:I,accountFormErrorMsg:E,resetPasswordFormErrorMsg:h,resetPasswordFormErrorType:M,onResetPasswordFormItemsFocus:q}),3===n&&l.default.createElement(T,{renderCancelBtn:R,setIsMsgLayout:a,goToLogin:r})))}},87870:function(e,t,a){var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}(a(67294)),l=r(a(94184)),o=r(a(99147)),s=r(a(22136)),c=a(49595);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const d=e=>{let{currentTab:t,tabName:a,children:r}=e;return n.default.createElement("div",{className:(0,l.default)("block",{hidden:t!==a})},r)};t.default=e=>{let{customerlink:t,onCancel:a,goToLogin:r}=e;const[u,i]=(0,n.useState)("sms"),[m,f]=(0,n.useState)(!1),p=(0,n.useCallback)((e=>{i(e)}),[]);return n.default.createElement("div",{className:"sms-forget-password"},!m&&n.default.createElement("div",{className:"top-tabs"},n.default.createElement("div",{className:(0,l.default)("tab",{active:"sms"===u}),onClick:()=>{p("sms")}},n.default.createElement("i",{className:"mps-help-mail"}),n.default.createElement("div",{className:"label"},c.i18n["mobile.validate"])),n.default.createElement("div",{className:(0,l.default)("tab",{active:"cs"===u}),onClick:()=>{p("cs")}},n.default.createElement("i",{className:"mps-help-man"}),n.default.createElement("div",{className:"label"},c.i18n["contact.cs"]))),n.default.createElement(d,{currentTab:u,tabName:"sms"},n.default.createElement(o.default,{onCancel:a,setIsMsgLayout:f,goToLogin:r})),n.default.createElement(d,{currentTab:u,tabName:"cs"},n.default.createElement(s.default,{customerlink:t,onCancel:a})))}},7758:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.resetPasswordErrorMsgEnum=t.smsErrorMsgEnum=void 0;var r=a(49595);const n={1:r.i18n["account.form.data.incorrect"],general:r.i18n["error.forgetaccount.6"]};t.smsErrorMsgEnum=n;const l={2:r.i18n["error.register.9"],3:r.i18n["verifycode.overdue"],general:r.i18n["error.forgetaccount.6"]};t.resetPasswordErrorMsgEnum=l},93036:function(e,t,a){var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(67294),l=r(a(30381));t.default=function(e){const t=(0,n.useRef)(),a=(0,n.useRef)((new Date).getTime()+1e3*e.seconds),[r,o]=(0,n.useState)(e.seconds?1e3*e.seconds:0),s=()=>{const r=(new Date).getTime();if(r>=a.current)return clearTimeout(t.current),o(0),void(e.onEnd&&e.onEnd());o(a.current-r)};if((0,n.useEffect)((()=>{const e=setTimeout(s,500);return t.current=e,()=>clearTimeout(t.current)}),[r]),e.asSeconds)return Math.floor(r/1e3);const c=l.default.duration(Math.floor(r/1e3),"seconds"),u=Math.floor(c.asDays()),d=c.hours();return{hours:Math.floor(c.asHours()),minutes:c.minutes(),seconds:c.seconds(),daysData:{days:u,hoursByDay:d}}}}}]);