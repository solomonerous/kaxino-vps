"use strict";(self.webpackChunknogle_react_boilerplate=self.webpackChunknogle_react_boilerplate||[]).push([[3958],{26586:function(e,t,n){var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(67294)),o=a(n(80634)),l=n(37163);t.default=e=>{let{content:t,className:n=""}=e;try{return(0,l.convertFromRaw)(JSON.parse(t)),r.default.createElement(o.default,{defaultValue:t})}catch(e){return r.default.createElement("div",{className:n,dangerouslySetInnerHTML:{__html:t}})}}},59985:function(e,t,n){var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(26586)).default;t.default=r},96781:function(e,t,n){var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(59713)),o=a(n(67154)),l=a(n(6479)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(67294)),u=(a(n(45697)),a(n(23930)),n(43393)),s=a(n(14920)),c=a(n(70902)),d=a(n(21794)),f=n(88180),p=a(n(23830)),m=a(n(92214)),g=a(n(33725)),h=n(49595),y=a(n(55228));const b=["itemData","total","limit","className","loadNextPage","itemRenderer","loadingRenderer","emptyRenderer","emptyText","emptyIcon","itemSize","isFixedSizeList","startToInit"];function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const C={init:!1,offset:0,isNextPageLoading:!1},k=e=>{const{itemData:t,total:n,limit:a,className:r,loadNextPage:u,itemRenderer:g,loadingRenderer:h,emptyRenderer:y,emptyText:v,emptyIcon:O,itemSize:P,isFixedSizeList:k,startToInit:M}=e,D=(0,l.default)(e,b),[N,j]=(0,s.default)(C),_=(0,i.useRef)({}),I=n>N.offset+a,E=I?t.size+1:t.size,T=e=>!I||e<t.size,x=(e,n)=>{!N.isNextPageLoading&&I&&n>=t.size&&j({isNextPageLoading:!0,offset:N.offset+a})},S=k?f.FixedSizeList:f.VariableSizeList,w=k?P:e=>P[e],R=()=>{u({offset:0,limit:a}).then((()=>{j({init:!0,forceInit:!1})}))};(0,c.default)((()=>{R()})),(0,d.default)((()=>{M&&(j(C),R())}),[M]),(0,d.default)((()=>{N.isNextPageLoading&&u({offset:N.offset,limit:a}).then((e=>{N.init&&e!==n?j({init:!1,offset:0}):j({init:!0,isNextPageLoading:!1})}))}),[N.offset]),(0,d.default)((()=>{var e;(null==_||null===(e=_.current)||void 0===e?void 0:e.resetAfterIndex)&&_.current.resetAfterIndex(0)}),[P]);const L=e=>T(e.index)?g(e):h(e);return N.init?i.default.createElement(m.default,null,(e=>{let{height:n,width:a}=e;return i.default.createElement(p.default,(0,o.default)({},D,{isItemLoaded:T,itemCount:E,loadMoreItems:x}),(e=>{let{onItemsRendered:o,ref:l}=e;return 0===E&&y?y({height:n,width:a,ref:l,emptyText:v,emptyIcon:O}):i.default.createElement(S,{className:r,itemCount:E,itemSize:w,itemData:t,onItemsRendered:o,ref:e=>{l(e),_.current=e},width:a,height:n,useIsScrolling:!0},L)}))})):i.default.createElement(m.default,null,(e=>{let{height:t,width:n}=e;return h({style:{height:t,width:n}})}))};k.defaultProps={total:0,itemData:(0,u.List)(),itemRenderer:()=>{},loadingRenderer:e=>{let{style:t}=e;return i.default.createElement("div",{style:P(P({},t),{},{display:"flex",alignItems:"center"})},i.default.createElement(g.default,null))},emptyRenderer:e=>{let{width:t,height:n,ref:a,emptyText:r,emptyIcon:o=y.default}=e;return i.default.createElement("div",{ref:a,className:"infinite-loader-empty-list",style:{width:t,height:n,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},o&&i.default.createElement("img",{src:o,alt:h.i18n["no.data"]}),i.default.createElement("div",{className:"no-data-block"},r||h.i18n["no.data"]))},isFixedSizeList:!0,startToInit:!1};var M=k;t.default=M},46837:function(e,t,n){var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(96781));n(36930);var o=r.default;t.default=o},6886:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.inboxMsgTypeEnum=void 0,t.inboxMsgTypeEnum={NONE:"NONE",NORMAL:"NORMAL",ANNOUNCE:"ANNOUNCE",PROMO:"PROMO",DEPOSIT:"DEPOSIT",WITHDRAW:"WITHDRAW"}},16803:function(e,t,n){var a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getPersonalCardContent=t.getPersonalMsgDetailContent=t.usePersonalContent=t.useNormalContent=void 0;var r=O(n(67294)),o=a(n(14920)),l=a(n(70902)),i=n(43393),u=O(n(2246)),s=n(49595),c=a(n(19675)),d=n(76537),f=a(n(55762)),p=a(n(43810)),m=n(74374),g=n(31529),h=n(6886),y=a(n(59985)),b=n(64586);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}t.useNormalContent=e=>{let{resetCurrentDetailId:t}=e;const n=(0,f.default)(d.getAnnounceNormalMsg),[a,u]=(0,o.default)({msgData:(0,i.fromJS)({data:[],total:0}),loading:!1}),s=(0,r.useCallback)((()=>{a.loading||(u({loading:!0}),t(),n().then((e=>{u({msgData:(0,i.fromJS)(e)})})).catch((()=>{u({msgData:(0,i.fromJS)({})})})).finally((()=>{u({loading:!1})})))}),[n,t,a.loading,u]);return(0,l.default)((()=>{s()}),[]),{state:a,reloadMsgData:s}},t.usePersonalContent=e=>{let{resetCurrentDetailId:t,getPersonalMsgDetail:n}=e;const a=(0,f.default)(d.getAnnouncePersonalMsg),l=(0,f.default)(d.deletePersonalMsg),[u,s]=(0,o.default)({msgData:(0,i.fromJS)({data:[],total:0}),checkedIds:[],checkAll:!1,startToInit:!1,loading:!1}),c=(0,r.useMemo)((()=>{var e,t,n;return(null===(e=u.msgData)||void 0===e||null===(t=e.get("data"))||void 0===t||null===(n=t.map((e=>e.get("msgid"))))||void 0===n?void 0:n.toJS())||[]}),[u.msgData]),p=(0,r.useMemo)((()=>{var e,t;return(null===(e=u.msgData)||void 0===e||null===(t=e.get("data"))||void 0===t?void 0:t.reduce(((e,t)=>e.set(t.get("msgid"),t.get("status"))),(0,i.fromJS)({})))||(0,i.fromJS)({})}),[u.msgData]),g=(0,r.useCallback)((e=>{let{offset:t,limit:n}=e;const r={offset:t,limit:n};return s({startToInit:!1,loading:!0}),a(r).then((e=>{const n=(null==e?void 0:e.data)||{},a=(null==e?void 0:e.total)||0,r=(0,i.fromJS)({data:n,total:a});return s((e=>{var n;return{msgData:0!==t?r.set("data",null===(n=e.msgData)||void 0===n?void 0:n.get("data",(0,i.fromJS)([])).concat(r.get("data"))):r}})),a})).catch((()=>{s({msgData:(0,i.fromJS)({})})})).finally((()=>{s({loading:!1})}))}),[a,s]),h=(0,r.useCallback)((()=>{u.disabled||(s({startToInit:!0,checkedIds:[],checkAll:!1}),t())}),[t,u.disabled,s]),y=(0,r.useCallback)((function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const r=e.target.getAttribute("for")!=="msg-card-checkbox-".concat(t);r&&(a(),n(t,(()=>{s((e=>{var n;const a=e.msgData.get("data"),r=null==a||null===(n=a.find((e=>e.get("msgid")===t)))||void 0===n?void 0:n.set("status",m.msgReadStatus.READ),o=null==a?void 0:a.findIndex((e=>e.get("msgid")===t));return{msgData:r&&o>-1?e.msgData.setIn(["data",o],r):e.msgData}}))})))}),[n,s]),b=(0,r.useCallback)((e=>{s((t=>({checkedIds:t.checkedIds.includes(e)?t.checkedIds.filter((t=>t!==e)):[...t.checkedIds,e]})))}),[s]),v=(0,r.useCallback)((()=>{s((e=>({checkAll:!e.checkAll,checkedIds:e.checkAll?[]:c})))}),[c,s]),O=(0,r.useCallback)((()=>{u.checkedIds.length&&l(u.checkedIds).then(h)}),[u.checkedIds,l,h]);return{state:u,allMsgStatus:p,loadNextPage:g,reloadMsgData:h,onCardClick:y,onCardCheck:b,onCheckAllChange:v,onDeleteMsgs:O}},t.getPersonalMsgDetailContent=e=>{let t,n;const a=e.get("msgtype");if(a===m.msgTypeEnum.PROMO){const a=e.get("promoreqstatus"),r=(0,g.getPromoName)(e),o=e.get("promoreqbonus"),l=e.get("promoclaimttl")?parseInt(e.get("promoclaimttl"),10)/1440:0,i=e.get("receiver"),c=s.i18n[e.get("currency")]||u.defaultCurrency,d=e.get("applicationname");t=(0,g.i18nVariables)(m.promoMessageSubject[a],{promoname:r}),n=(0,g.i18nVariables)(m.promoMessageContent[a],{promoname:r,receiver:i,promoreqbonus:o,promoclaimttl:l,currency:c,name:u.default.brand.name,applicationname:d})}else if(a===m.msgTypeEnum.ROULETTE_PROMO){const a=e.get("receiver"),r=JSON.parse(e.get("appcontent")),o=r[s.currLocale]?"【".concat(r[s.currLocale],"】 "):" ",l=e.get("applicationname");t=s.i18n["promo.message.subject.roulette.promo"],n=(0,g.i18nVariables)(s.i18n["promo.message.content.roulette.promo"],{receiver:a,appcontent:o,applicationname:l})}else a===m.msgTypeEnum.PERSONAL&&(t=e.get("subject"),n=r.default.createElement(y.default,{content:e.get("content")}));const o=e.get("type"),l=o&&o!==h.inboxMsgTypeEnum.NONE?"【".concat(s.i18n["frontend.message.type.".concat(o)],"】 "):"";return{subject:"".concat(l).concat(t),content:n}},t.getPersonalCardContent=e=>{let{rowData:t}=e;const n=(0,b.formatDateTime)(t.get("senddate"));let a=t.get("subject");const r=t.get("msgtype"),o=t.get("type"),l=o&&o!==h.inboxMsgTypeEnum.NONE?"【".concat(s.i18n["frontend.message.type.".concat(o)],"】 "):"";if(r===m.msgTypeEnum.PROMO){const e=(0,g.getPromoName)(t),n=t.get("promoreqstatus");a=(0,g.i18nVariables)(m.promoMessageSubject[n],{promoname:e})}else r===m.msgTypeEnum.ROULETTE_PROMO&&(a=s.i18n["promo.message.subject.roulette.promo"]);return{senddate:n,typeText:l,subject:a}};t.default=()=>{const e=(0,f.default)(d.getAnnouncePersonalMsgDetail,{multipleCall:!0}),t=(0,f.default)(d.updatePersonalMsgStatus),{totalUnreadMsgCount:n}=(0,p.default)((e=>({totalUnreadMsgCount:e.news.totalUnreadMsgCount}))),{activeTab:a,setTab:l}=(0,c.default)("personalMsg"),[u,s]=(0,o.default)({personalMsgDetailLoading:!1,currentPersonalDetailId:null,personalMsgDetail:(0,i.fromJS)({}),currentNormalDetailId:null,normalMsgDetail:(0,i.fromJS)({})}),g=(0,r.useCallback)((()=>{s({currentPersonalDetailId:null,currentNormalDetailId:null})}),[s]),h=(0,r.useCallback)((e=>{l(e),g()}),[l,g]),y=(0,r.useCallback)(((n,a)=>{u.currentPersonalDetailId!==n&&(s({currentPersonalDetailId:n}),u.personalMsgDetail.has(n)||(s({personalMsgDetailLoading:!0}),e(n).then((e=>{s((t=>({personalMsgDetail:t.personalMsgDetail.set(n,(0,i.fromJS)(e))}))),t({status:m.msgReadStatus.READ,msgid:n}).then((()=>{a()}))})).catch((()=>{s((e=>({personalMsgDetail:e.personalMsgDetail.set(n,(0,i.fromJS)({}))})))})).finally((()=>{s({personalMsgDetailLoading:!1})}))))}),[u.personalMsgDetail,e,t,s]),b=(0,r.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};s({currentNormalDetailId:e,normalMsgDetail:t}),n()}),[s]);return{state:u,totalUnreadMsgCount:n,activeTab:a,onTabChange:h,getPersonalMsgDetail:y,getNormalMsgDetail:b,resetCurrentDetailId:g}}},19675:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(67294);t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";const[t,n]=(0,a.useState)(e),r=(0,a.useCallback)((e=>{n(e)}),[]);return{activeTab:t,setTab:r}}},36930:function(e,t,n){n.r(t)},48719:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.NrcInputCheckboxGroup=t.NrcInputCheckbox=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=c(n(45697)),l=n(67294),i=c(l),u=c(n(94184)),s=c(n(41143));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=t.NrcInputCheckbox=function(e){function t(e){f(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onCheckboxChangeHandler=function(e){e instanceof Object&&e.preventDefault();var t=n.props,a=t.value,r=t.readOnly,o=t.onChange,l=n.state.checked;r||o(a,!l)},n.state={checked:e.checked||!1},(0,s.default)(e.value,'Property "value" is needed to initiate NrcInputCheckbox'),n}return m(t,e),r(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({checked:!!e.checked})}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,r=(e.inputOptions,e.label),o=e.readOnly,l=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["name","value","inputOptions","label","readOnly"]),s={readOnly:o};return i.default.createElement("span",{style:{minHeight:"25px"}},i.default.createElement("input",a({},l,{className:(0,u.default)(s),disabled:o,name:t,id:t+"-"+n,type:"checkbox",defaultValue:n,checked:this.state.checked})),i.default.createElement("label",{htmlFor:t+"-"+n,className:(0,u.default)(s),onClick:this.onCheckboxChangeHandler},r||n))}}]),t}(l.Component);g.displayName="NrcInputCheckbox",g.propTypes={checked:o.default.bool,name:o.default.string,onChange:o.default.func,label:o.default.string,readOnly:o.default.bool,value:o.default.oneOfType([o.default.string,o.default.array,o.default.number]).isRequired},g.defaultProps={name:"",onChange:function(){}};var h=t.NrcInputCheckboxGroup=function(e){function t(e){f(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInputChangeHandler=function(e,t){var r=n.props,o=r.onChange;if(!r.readOnly){var l=a({},n.state,d({},e,t));n.setState(l),o(l)}},n.getInputValue=function(){return!Object.keys(n.state).every((function(e){return!n.state[e]}))},n.setInputValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.initialValue;n.setState(e)},n.renderCheckbox=function(e){var t=n.props,a=t.inputOptions,r=t.name,o=t.readOnly,l=n.state[""+e.props.value];return"NrcInputCheckbox"!==e.type.displayName?i.default.cloneElement(e,{inputOptions:e.props.inputOptions||{},readOnly:o||e.props.readOnly,onChange:e.props.onChange}):i.default.cloneElement(e,{ref:e.props.value+"__ref",checked:l,inputOptions:a,name:r,onChange:n.onInputChangeHandler,readOnly:o})},n.state={},n.initialValue={},n.info=e.inputOptions.info||"",e.children&&e.children instanceof Array?e.children.forEach((function(e){var t=void 0===n.state[""+e.props.value];(0,s.default)(t,"Should not have two checkboxes that have the same values."),n.initialValue[e.props.value]=e.props.checked})):n.initialValue[e.children.props.value]=e.children.props.checked,n.state=Object.assign({},n.initialValue),n}return m(t,e),r(t,[{key:"render",value:function(){var e,t=this.props,n=t.children,a=t.className,r=t.inputSpan,o=t.readOnly,l=t.direction,s="function"==typeof this.info?this.info():this.info,c=(d(e={"nrc-form-input":!0,"nrc-checkbox":!0},"nrc-u-"+r,!!r),d(e,"nrc-flex-column","vertical"===l),d(e,"readOnly",o),e);return i.default.createElement("div",{className:(0,u.default)(c)+" "+a},i.default.Children.map(n,this.renderCheckbox),i.default.createElement("small",{className:"info-msg"},s))}}]),t}(l.Component);h.displayName="NrcInputCheckboxGroup",h.propTypes={children:o.default.oneOfType([o.default.object,o.default.array]),className:o.default.string,inputOptions:o.default.object,inputSpan:o.default.string,name:o.default.string,onChange:o.default.func,readOnly:o.default.bool,direction:o.default.oneOf(["vertical","horizontal"])},h.defaultProps={className:"",inputOptions:{},inputSpan:"1-1",name:"",onChange:function(){},readOnly:!1,direction:"horizontal"}},80634:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=d(n(45697)),o=n(67294),l=d(o),i=d(n(94184)),u=n(37163),s=n(56448),c=d(n(61160));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,a=function(e){var t=void 0;try{return t=(0,u.convertFromRaw)((0,c.default)(e)),(0,s.convertDraftToHTML)(t)}catch(n){return t=u.ContentState.createFromText(e),(0,s.convertDraftToHTML)(t)}}(e.defaultValue);return l.default.createElement("div",{className:(0,i.default)({"nrc-editor-view-mode":!0})+" "+t,style:n,dangerouslySetInnerHTML:{__html:a}})}}]),t}(o.Component);m.propTypes={defaultValue:r.default.string,className:r.default.string,style:r.default.object},m.defaultProps={defaultValue:"",className:"",style:{}},t.default=m},61160:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(56448),o=(a=n(79981))&&a.__esModule?a:{default:a};t.default=function(e){var t=void 0;try{t=JSON.parse(e)}catch(n){t=(0,o.default)((0,r.convertHTMLToDraft)(e))}return t}},59507:function(e,t,n){e.exports=n.p+"static/media/announce-no-data.9879b581..svg"},55228:function(e,t,n){e.exports=n.p+"static/media/common-search-no-data.0f6b402f..svg"}}]);