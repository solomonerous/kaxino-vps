"use strict";(self.webpackChunknogle_react_boilerplate=self.webpackChunknogle_react_boilerplate||[]).push([[4978],{60849:function(e,t,r){var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.postThirdPartyLoginBindLoginUser=t.thirdPartyLoginBindUser=t.thirdPartyLoginBindRegister=t.postThirdPartyLogin=t.getThirdPartyLoginSetting=void 0;var n=a(r(82814)),i=s(r(53878)),o=s(r(72348));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}const c="".concat(i.baseURL).concat(i.default.thirdPartyLoginURL);t.getThirdPartyLoginSetting=()=>({types:[o.GET_THIRD_PARTY_LOGIN_SETTING_REQUEST,o.GET_THIRD_PARTY_LOGIN_SETTING_SUCCESS,o.GET_THIRD_PARTY_LOGIN_SETTING_FAILURE],promiseType:"",promises:[()=>(0,n.default)({url:"".concat(c,"/setting"),method:"GET"})]}),t.postThirdPartyLogin=e=>({types:[o.POST_THIRD_PARTY_LOGIN_REQUEST,o.POST_THIRD_PARTY_LOGIN_SUCCESS,o.POST_THIRD_PARTY_LOGIN_FAILURE],promiseType:"",promises:[()=>(0,n.default)({url:"".concat(c),method:"POST",jsonStr:JSON.stringify(e)})]}),t.thirdPartyLoginBindRegister=e=>({types:[o.THIRD_PARTY_LOGIN_BIND_REGISTER_REQUEST,o.THIRD_PARTY_LOGIN_BIND_REGISTER_SUCCESS,o.THIRD_PARTY_LOGIN_BIND_REGISTER_FAILURE],promiseType:"",promises:[()=>(0,n.default)({url:"".concat(c,"/bindRegister"),method:"POST",jsonStr:JSON.stringify(e)})]}),t.thirdPartyLoginBindUser=e=>({types:[o.THIRD_PARTY_LOGIN_BIND_USER_REQUEST,o.THIRD_PARTY_LOGIN_BIND_USER_SUCCESS,o.THIRD_PARTY_LOGIN_BIND_USER_FAILURE],promiseType:"",promises:[()=>(0,n.default)({url:"".concat(c,"/bindUser"),method:"POST",jsonStr:JSON.stringify(e)})]}),t.postThirdPartyLoginBindLoginUser=e=>({types:[o.POST_THIRD_PARTY_LOGIN_BIND_LOGIN_USER_REQUEST,o.POST_THIRD_PARTY_LOGIN_BIND_LOGIN_USER_SUCCESS,o.POST_THIRD_PARTY_LOGIN_BIND_LOGIN_USER_FAILURE],promiseType:"",promises:[()=>(0,n.default)({url:"".concat(c,"/bind"),method:"POST",jsonStr:JSON.stringify(e)})]})},72583:function(e,t,r){var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(67294)),i=a(r(4726)),o=r(49595),l=a(r(20640)),s=a(r(94184)),c=a(r(68811)),_=r(14283);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}const d={icon:{cursor:"pointer",marginLeft:"5px"}};t.default=e=>{let{children:t,text:r,wrapperClass:a,childrenClass:u,iconClass:p,tooltip:f=!1,stopPropagation:T,tooltipPlace:g}=e;const[R,I]=(0,n.useState)(!1),[h,S]=(0,n.useState)(c.default.v4()),P=(0,n.useRef)(null);let y;const O=g||_.isMobile?"left":"top",E=e=>{let t;return t="copyText"===e?R?o.i18n.copied:o.i18n.copy:e,t};return n.default.createElement("div",{className:(0,s.default)("copy-text",{[a]:!!a})},t&&n.default.createElement(n.default.Fragment,null,n.default.createElement("span",{className:(0,s.default)({[u]:!!u}),"data-tip":f?r:"","data-for":"children".concat(h),"data-event":_.isMobile?"click":""},t),n.default.createElement(i.default,{id:"children".concat(h),effect:"solid",place:O,clickable:!0,globalEventOff:_.isMobile?"click":"",getContent:E})),n.default.createElement("i",{className:(0,s.default)("d20_small_copy",{[p]:!!p}),style:d.icon,ref:P,"data-tip":"copyText","data-for":h,onClick:e=>{clearTimeout(y),T&&e.stopPropagation(),i.default.show(P.current),I(!0),(0,l.default)(r),_.isMobile&&(y=setTimeout((()=>{i.default.hide(P.current)}),1500))}}),n.default.createElement(i.default,{id:h,effect:"solid",place:O,afterHide:()=>{I(!1)},getContent:E}))}},36562:function(e,t,r){var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={FACEBOOK:a(r(60108)).default};t.default=n},12279:function(e,t,r){var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.paintCanvas=void 0,a(r(45697));var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(67294));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}const o=(0,n.forwardRef)(((e,t)=>{let{id:r,datas:a,rowHeight:i}=e;const l=(0,n.useRef)(),s=i*(a.length+1);return(0,n.useEffect)((()=>{o.paintCanvas(t||l,a,i,s)}),[s,a]),n.default.createElement("div",{style:{width:600,height:s,margin:"36px auto"}},n.default.createElement("canvas",{id:r,ref:t||l,width:"600",height:s}))})),l=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:55,a=arguments.length>3?arguments[3]:void 0,n=e.getContext("2d"),i=r,o=a||r*(t.length+1);return n.clearRect(0,0,600,o),n.fillStyle="#eee",n.fillRect(0,0,600,o),n.font="14px Microsoft YaHei,Microsoft JhengHei,PingFangTC,Helvetica",t.forEach((e=>{!e||Object.prototype.hasOwnProperty.call(e,"exception")&&e.exception||(e.label&&(n.fillStyle="#777",n.textAlign="end",n.fillText(e.label,180,i)),n.fillStyle="#222",n.textAlign="left",n.fillText(e.value,e.label?220:10,i),i+=r)})),e};t.paintCanvas=l,o.paintCanvas=(e,t,r,a)=>{l(e.current,t,r,a)},o.defaultProps={id:"canvas",rowHeight:55},o.displayName="DetailCanvas";var s=o;t.default=s},72348:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.POST_THIRD_PARTY_LOGIN_BIND_LOGIN_USER_FAILURE=t.POST_THIRD_PARTY_LOGIN_BIND_LOGIN_USER_SUCCESS=t.POST_THIRD_PARTY_LOGIN_BIND_LOGIN_USER_REQUEST=t.THIRD_PARTY_LOGIN_BIND_USER_FAILURE=t.THIRD_PARTY_LOGIN_BIND_USER_SUCCESS=t.THIRD_PARTY_LOGIN_BIND_USER_REQUEST=t.THIRD_PARTY_LOGIN_BIND_REGISTER_FAILURE=t.THIRD_PARTY_LOGIN_BIND_REGISTER_SUCCESS=t.THIRD_PARTY_LOGIN_BIND_REGISTER_REQUEST=t.POST_THIRD_PARTY_LOGIN_FAILURE=t.POST_THIRD_PARTY_LOGIN_SUCCESS=t.POST_THIRD_PARTY_LOGIN_REQUEST=t.GET_THIRD_PARTY_LOGIN_SETTING_FAILURE=t.GET_THIRD_PARTY_LOGIN_SETTING_SUCCESS=t.GET_THIRD_PARTY_LOGIN_SETTING_REQUEST=void 0,t.GET_THIRD_PARTY_LOGIN_SETTING_REQUEST="thirdPartyLogin/GET_THIRD_PARTY_LOGIN_SETTING_REQUEST",t.GET_THIRD_PARTY_LOGIN_SETTING_SUCCESS="thirdPartyLogin/GET_THIRD_PARTY_LOGIN_SETTING_SUCCESS",t.GET_THIRD_PARTY_LOGIN_SETTING_FAILURE="thirdPartyLogin/GET_THIRD_PARTY_LOGIN_SETTING_FAILURE",t.POST_THIRD_PARTY_LOGIN_REQUEST="thirdPartyLogin/POST_THIRD_PARTY_LOGIN_REQUEST",t.POST_THIRD_PARTY_LOGIN_SUCCESS="thirdPartyLogin/POST_THIRD_PARTY_LOGIN_SUCCESS",t.POST_THIRD_PARTY_LOGIN_FAILURE="thirdPartyLogin/POST_THIRD_PARTY_LOGIN_FAILURE",t.THIRD_PARTY_LOGIN_BIND_REGISTER_REQUEST="thirdPartyLogin/THIRD_PARTY_LOGIN_BIND_REGISTER_REQUEST",t.THIRD_PARTY_LOGIN_BIND_REGISTER_SUCCESS="thirdPartyLogin/THIRD_PARTY_LOGIN_BIND_REGISTER_SUCCESS",t.THIRD_PARTY_LOGIN_BIND_REGISTER_FAILURE="thirdPartyLogin/THIRD_PARTY_LOGIN_BIND_REGISTER_FAILURE",t.THIRD_PARTY_LOGIN_BIND_USER_REQUEST="thirdPartyLogin/THIRD_PARTY_LOGIN_BIND_USER_REQUEST",t.THIRD_PARTY_LOGIN_BIND_USER_SUCCESS="thirdPartyLogin/THIRD_PARTY_LOGIN_BIND_USER_SUCCESS",t.THIRD_PARTY_LOGIN_BIND_USER_FAILURE="thirdPartyLogin/THIRD_PARTY_LOGIN_BIND_USER_FAILURE",t.POST_THIRD_PARTY_LOGIN_BIND_LOGIN_USER_REQUEST="POST_THIRD_PARTY_LOGIN_BIND_LOGIN_USER_REQUEST",t.POST_THIRD_PARTY_LOGIN_BIND_LOGIN_USER_SUCCESS="POST_THIRD_PARTY_LOGIN_BIND_LOGIN_USER_SUCCESS",t.POST_THIRD_PARTY_LOGIN_BIND_LOGIN_USER_FAILURE="POST_THIRD_PARTY_LOGIN_BIND_LOGIN_USER_FAILURE"},76381:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.thirdPartyTypeEnum=t.bindStatusEnum=void 0,t.bindStatusEnum={SUCCESS:"SUCCESS",UNAUTHORIZED:"UNAUTHORIZED",INVALID:"INVALID"},t.thirdPartyTypeEnum={FACEBOOK:"FACEBOOK"}},69029:function(e,t,r){var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(67294),i=r(37424),o=r(39711),l=a(r(11931)),s=a(r(55233)),c=r(60849),_=a(r(55762)),u=r(91810),d=a(r(17947)),p=r(12477),f=r(2246),T=r(74374),g=r(40146),R=r(24502);t.default=e=>{const t=(0,i.useDispatch)(),r=(0,o.useHistory)(),a=(0,_.default)(c.thirdPartyLoginBindUser),I=(0,_.default)(c.thirdPartyLoginBindRegister),[h,S]=(0,n.useState)("SystemAccountForm"),[P,y]=(0,n.useState)(!1),O=(0,l.default)(),E=p.ulagentCookie.get(),m=p.agentCookie.get(),N=[E?t((0,R.isAgentExist)(E,!0)):Promise.resolve(),m?t((0,R.isAgentExist)(m,!1)):Promise.resolve()],L=(0,n.useCallback)((()=>{r.push(s.default.ROOT)}),[]);return{tabIndex:h,setTabIndex:S,onClose:L,onSubmit:async r=>{let{loginName:n,loginPassword:i}=r;const{thirdPartyType:o,fingerPrint:l,thirdPartyToken:s,portalId:c}=e,_="ExistingAccountForm"===h,R={thirdPartyType:o,fingerPrint:l,thirdPartyToken:s,loginName:n,loginPassword:(0,d.default)(i,n),portalId:g.isNativeApp?T.portalIdEnum.APP:c||T.portalIdEnum.MOBILE,currency:f.defaultCurrency};if(!_)if(O.isAgentDomain)O.isUlagent?R.ulAgentAccount=O.account:R.agentId=O.agentId;else{const e=await Promise.all(N);e[0]&&(R.ulAgentAccount=e[0]),e[1]&&(R.agentId=e[1])}const S=_?a:I;y(!0),S(R).then((e=>{_||(p.ulagentCookie.remove(),p.agentCookie.remove()),t({type:u.AJAX_POST_LOGIN_SUCCESS,payload:e,playerid:e.playerId}),L()})).finally((()=>{y(!1)}))},submitLoading:P}}},24111:function(e,t,r){var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(59713)),i=r(67294),o=a(r(70902)),l=r(77688),s=r(60849),c=a(r(55762)),_=a(r(55233)),u=r(76381);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(){let{type:e="login",path:t=_.default.LOGIN}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[r,a]=(0,i.useState)(!0),[n,d]=(0,i.useState)([]),[f,T]=(0,i.useState)({}),g=(0,c.default)(s.getThirdPartyLoginSetting),R=(0,i.useCallback)((()=>{a(!0)}),[]);return(0,o.default)((()=>{g().then((r=>{let{thirdPartyLoginConfig:n}=r;const i=n.filter((e=>e.open)).map((e=>e.thirdPartyType)),o=i.reduce(((r,a)=>{const i=n.filter((e=>e.thirdPartyType===u.thirdPartyTypeEnum[a])),o=i.length>0?i[0].oauthConfig:{};return p(p({},r),{},{[a]:(0,l.getThirdPartyAuthCheckingURL)({thirdPartyType:a,params:o,state:{thirdPartyType:a,path:t},type:e})})}),{});d(i),T(o),a(!1)}))})),{loading:r,thirdPartyTypes:n,thirdPartyAuthCheckingURLs:f,onIconClick:R}}},36848:function(e,t,r){var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(59713)),i=r(67294),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=T(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(53209)),l=r(37424),s=r(77688),c=r(49595),_=r(31529),u=a(r(19234)),d=a(r(94583)),p=a(r(24986)),f=r(31315);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(T=function(e){return e?r:t})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=e=>{let{onSubmit:t}=e;const r=(0,l.useSelector)((e=>e.players.registrationSetting)),a=(0,i.useMemo)((()=>(null==r?void 0:r.getIn(["regsettingmap","playerid","prefixchar"]))||""),[r]),n=(0,i.useCallback)((()=>{if(!r.size)return"";const e=(null==r?void 0:r.getIn(["regsettingmap","playerid","prefixchar"]))||"",t=isNaN(Number(r.getIn(["regsettingmap","playerid","maxlength"])))?0:Number(r.getIn(["regsettingmap","playerid","maxlength"]))-e.length,a=r.getIn(["regsettingmap","playerid","alphabet"]),n=r.getIn(["regsettingmap","playerid","numeric"]);if(a){if(n){if(t<=1)return(0,s.getRandomNumberChar)();const e=(0,s.getRandomSeeds)(Math.floor(t/2)),r=Array(t).fill(0).map(((t,r)=>e.includes(r)?(0,s.getRandomNumberChar)():(0,s.getRandomLowerChar)()));return r[t-2]=(0,s.getRandomNumberChar)(),r[t-1]=(0,s.getRandomLowerChar)(),r.join("")}return Array(t).fill(0).map((()=>(0,s.getRandomLowerChar)())).join("")}return Array(t).fill(0).map((()=>(0,s.getRandomNumberChar)())).join("")}),[r]),T=(0,i.useCallback)((()=>{if(!r.size)return"";const e=Number(r.get("securitylevel")),t=(0,s.getRandomSeeds)(6),a=Array(12).fill(0).map(((e,r)=>t.includes(r)?(0,s.getRandomLowerChar)():(0,s.getRandomNumberChar)()));if(2===e){const e=(0,s.getRandomSeeds)(4);return a.map(((t,r)=>e.includes(r)?(0,s.getRandomUpperChar)():t)).join("")}if(e>2){const e=[...a];return(0,s.getRandomSeeds)(4).forEach(((t,r)=>{e[t]=r<2?(0,s.getRandomUpperChar)():(0,s.getRandomSymbolChar)()})),e.join("")}return a.join("")}),[r]),g=(0,i.useMemo)((()=>{const e=(null==r?void 0:r.getIn(["regsettingmap","playerid","prefixchar"]))||"",t=Number(null==r?void 0:r.getIn(["regsettingmap","playerid","minlength"]))-e.length,a=Number(null==r?void 0:r.getIn(["regsettingmap","playerid","maxlength"]))-e.length,n=null==r?void 0:r.getIn(["regsettingmap","playerid","alphabet"]),i=null==r?void 0:r.getIn(["regsettingmap","playerid","numeric"]),l=Number(null==r?void 0:r.get("securitylevel"));return o.object({loginName:o.string().default("").required(c.i18n["validate.empty"]).test((function(e){return(0,f.containsCapital)(e)?this.createError({path:this.path,message:c.i18n["validate.notcontainscapital"]}):e.length<t||e.length>a?this.createError({path:this.path,message:(0,_.i18nVariables)(c.i18n["validate.check.length.limit"],{MIN:t,MAX:a})}):n&&i&&!(0,d.default)(e)?this.createError({path:this.path,message:c.i18n["validate.isAlphanumeric"]}):!n||i||(0,u.default)(e)?!(i&&!n&&!(0,p.default)(e))||this.createError({path:this.path,message:c.i18n["validate.isNumeric"]}):this.createError({path:this.path,message:c.i18n["validate.isAlpha"]})})),loginPassword:o.string().default("").required(c.i18n["validate.empty"]).test((function(e){const{loginName:t}=this.parent;if(e.length<f.PASSWORD_MIN_LENGTH)return this.createError({path:this.path,message:(0,_.i18nVariables)(c.i18n["validate.check.length.limit"],{MIN:f.PASSWORD_MIN_LENGTH,MAX:f.PASSWORD_MAX_LENGTH})});if(e.length>f.PASSWORD_MAX_LENGTH)return this.createError({path:this.path,message:(0,_.i18nVariables)(c.i18n["validate.check.length.limit"],{MIN:f.PASSWORD_MIN_LENGTH,MAX:f.PASSWORD_MAX_LENGTH})});if(l>=1){if(e===t)return this.createError({path:this.path,message:c.i18n["validate.password.playerid.not.same"]});if(!(0,f.containsAlphanumeric)(e))return this.createError({path:this.path,message:c.i18n["validate.isAlphanumeric"]})}return l>=2&&!(0,f.containsCapital)(e)?this.createError({path:this.path,message:c.i18n["validate.containscapital"]}):l>=3&&!(0,f.hasSpecialCharacter)(e)?this.createError({path:this.path,message:c.i18n["validate.special.character.contain"]}):!(l>=4&&((0,f.hasNumberSequence)(e)||!(0,f.hasIdenticalNumberConsecutively)(e)))||this.createError({path:this.path,message:c.i18n["validate.not.consecutive.number"]})}))})}),[r]),I=(0,i.useMemo)((()=>({loginName:n(),loginPassword:T()})),[n,T]),h=(0,i.useCallback)((e=>{t(R(R({},e),{},{loginName:"".concat(a).concat(e.loginName)}))}),[t,a]);return{validationSchema:g,initialValues:I,prefixchar:a,getRandomLoginName:n,getRandomLoginPassword:T,onFormSubmit:h}}},82517:function(e,t,r){var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(59713)),i=r(37424),o=r(29881),l=r(60849),s=r(77688),c=a(r(55762)),_=r(29751),u=r(76381),d=r(91810),p=r(74374);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(){let{portalId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,i.useDispatch)(),r=(0,c.default)(l.postThirdPartyLogin),[a,n]=(0,o.useSetState)({loginStatus:null,bindData:{}}),{access_token:f,thirdPartyType:g}=(0,s.getThirdPartyUrlParams)(),R=()=>{f&&g&&(0,_.getFingerprint2)((a=>{const i={thirdPartyType:g,thirdPartyToken:f,fingerPrint:a,portalId:e||p.portalIdEnum.MOBILE};r(i).then((e=>{const{loginStatus:r,thirdPartyPhoto:a,thirdPartyName:o}=e,l={loginStatus:r};r===u.bindStatusEnum.SUCCESS?t({type:d.AJAX_POST_LOGIN_SUCCESS,payload:e,playerid:e.playerid}):r===u.bindStatusEnum.UNAUTHORIZED&&(l.bindData=T(T({},i),{},{thirdPartyPhoto:a,thirdPartyUserName:o})),n(l)})).catch((e=>{n({loginStatus:u.bindStatusEnum.INVALID})}))}))};return(0,o.useUpdateEffect)((()=>{R()}),[f,g]),(0,o.useMount)((()=>{R()})),{state:a,access_token:f}}},77688:function(e,t,r){var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getThirdPartyUrlParams=t.getRandomSeeds=t.getRandomSymbolChar=t.getRandomNumberChar=t.getRandomUpperChar=t.getRandomLowerChar=t.getThirdPartyAuthCheckingURL=void 0;var n=a(r(17563)),i=r(76381),o=r(40146);const l="".concat(encodeURIComponent(location.origin));t.getThirdPartyAuthCheckingURL=e=>{let{thirdPartyType:t,params:r={},state:a={},type:s="login"}=e;const{appId:c,appVersion:_}=r,u=n.default.stringify({client_id:c}),d=JSON.stringify(a)||"";return t===i.thirdPartyTypeEnum.FACEBOOK?o.isNativeApp?"wl://fb.".concat(s,"?appid=").concat(c,"&version=").concat(_):"https://www.facebook.com/".concat(_,"/dialog/oauth?").concat(u,"&redirect_uri=").concat(l,"&response_type=token&state=").concat(d):l},t.getRandomLowerChar=()=>String.fromCharCode(Math.floor(26*Math.random())+97),t.getRandomUpperChar=()=>String.fromCharCode(Math.floor(26*Math.random())+65),t.getRandomNumberChar=()=>String.fromCharCode(Math.floor(10*Math.random())+48),t.getRandomSymbolChar=()=>{const e="@#$%^&*(){}[]";return e[Math.floor(Math.random()*e.length)]},t.getRandomSeeds=e=>Array(e).fill(0).reduce((e=>{let t=Math.floor(10*Math.random());for(;e.includes(t);)t=Math.floor(10*Math.random());return[...e,t]}),[]),t.getThirdPartyUrlParams=()=>{const e=location.search.slice(1)||location.hash.slice(1),{access_token:t,state:r,thirdPartyType:a}=n.default.parse(e);let i={};if(r)try{i=JSON.parse(r)}catch(e){}const{thirdPartyType:o}=i;return{access_token:t,thirdPartyType:a||o}}},60108:function(e,t,r){e.exports=r.p+"static/media/icon-fb.b106d7b6..svg"}}]);