"use strict";(self.webpackChunknogle_react_boilerplate=self.webpackChunknogle_react_boilerplate||[]).push([[987],{49683:function(e,t,n){var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getDepositMethodDisplay=t.resetDepositPaymentTypes=t.getDepositPaymentTypes=t.getDepositOrders=void 0;var a=l(n(46591)),o=r(n(17563)),i=l(n(53878)),u=r(n(82814));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}t.getDepositOrders=()=>({types:[a.GET_DEPOSIT_ORDER_REQUEST,a.GET_DEPOSIT_ORDER_SUCCESS,a.GET_DEPOSIT_ORDER_FAILURE],promiseType:"",promises:[()=>(0,u.default)({url:"".concat(i.baseURL).concat(i.default.depositURL,"/paymenttypes/displayorder"),method:"GET"})]}),t.getDepositPaymentTypes=e=>({types:[a.GET_DEPOSIT_PAYMENT_TYPE_REQUEST,a.GET_DEPOSIT_PAYMENT_TYPE_SUCCESS,a.GET_DEPOSIT_PAYMENT_TYPE_FAILURE],promiseType:"",promises:[()=>(0,u.default)({url:"".concat(i.baseURL).concat(i.default.depositURL,"/paymenttypes?").concat(e?o.default.stringify(e):""),method:"GET"})]}),t.resetDepositPaymentTypes=()=>({type:a.RESET_DEPOSIT_PAYMENT_TYPE}),t.getDepositMethodDisplay=()=>({types:[a.GET_DEPOSIT_METHOD_DISPLAY_REQUEST,a.GET_DEPOSIT_METHOD_DISPLAY_SUCCESS,a.GET_DEPOSIT_METHOD_DISPLAY_FAILURE],promiseType:"",promises:[()=>(0,u.default)({url:"".concat(i.baseURL).concat(i.default.settingsURL,"/depositMethod/display"),method:"GET"})]})},75393:function(e,t,n){var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getPaymentNotes=void 0;var a=c(n(10482)),o=r(n(2246)),i=n(49595),u=c(n(53878)),s=r(n(82814));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const p=o.default.defaultLocale;t.getPaymentNotes=e=>({types:[a.GET_ALL_PAYMENT_NOTES_REQUEST,a.GET_ALL_PAYMENT_NOTES_SUCCESS,a.GET_ALL_PAYMENT_NOTES_FAILURE],promiseType:"",promises:[()=>(0,s.default)({url:"".concat(u.baseURL).concat(u.default.paymentNotesURL,"/contents/").concat(i.currLocale,"?defaultlang=").concat(p,"&platform=").concat(e),method:"GET"})]})},73699:function(e,t,n){var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.formatPoint=t.formatBankCard=t.currencySymbol=t.formatEncryptMobile=t.formatEncryptName=t.formatBankAccount=void 0;var a=r(n(83868)),o=n(90476);t.formatBankAccount=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!e)return"";const r=e.length;if((0,a.default)(e)){const t=e.lastIndexOf(".");return e.substr(0,n)+e.substr(n,t-n).replace(/./g,"*")+e.substr(t,r-t)}const o=16,i=r-t,u="".concat(e.substr(0,i).replace(/./g,"*")).concat(e.substr(i,t));return u.length<o?u.padStart(o,"*"):u},t.formatEncryptName=e=>{if(!e)return"";const t=/(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3400-\u4DBF\u4E00-\u9FFC\uF900-\uFA6D\uFA70-\uFAD9]|\uD81B[\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/.test(e)?1:3,n=e.length-t,r="".concat(e.substr(0,t)).concat(e.substr(t,n).replace(/./g,"*"));return r.length<6?r.padEnd(6,"*"):r},t.formatEncryptMobile=e=>{if(!e)return"";const[t,n]=e.split(" "),r=n.length-4;return"".concat(t," ").concat(n.substr(0,r).replace(/./g,"*")).concat(n.substr(r,4))},t.currencySymbol=e=>({CNY:"¥",USD:"$",THB:"฿",VND2:"₫",HKD:"$"}[e]||""),t.formatBankCard=e=>"string"!=typeof e?e.toString().match(/.{4}/g).join(" "):e.match(/.{4}/g).join(" "),t.formatPoint=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.formatMoney)(e,"0,0.00",t)}},69112:function(e,t,n){var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const[r,d]=(0,a.useState)(!1),m=(0,i.useDispatch)(),f=(0,i.useSelector)((e=>e.xpayments.depositApplyInfo)),y=(0,i.useSelector)((t=>(0,s.getDepositParams)(t,e))),g=(0,i.useSelector)((e=>e.players.player)),{currency:D}=g,b=(0,a.useMemo)((()=>Object.prototype.hasOwnProperty.call(l.currencyMappingEnum,g.currency)),[D]),E=(0,a.useMemo)((()=>"VND2"===D?{actualAmountFormat:"0",amountFormat:"0.00"}:{actualAmountFormat:"0,0"}),[D]),O=(0,a.useCallback)((e=>(0,c.formatMoney)(e,E.actualAmountFormat)),[E.actualAmountFormat]),P=l.currencyMappingEnum[D],_=(0,a.useCallback)((e=>{const{actualAmountFormat:t,amountFormat:n}=E,r=+e||0,a={amountText:(0,c.formatMoney)(r,n),actualAmount:e};if(b){const{multiplier:e,orgcurrency:n}=P;a.actualAmount=r&&r*e,a.actualAmountText="".concat((0,c.formatMoney)(a.actualAmount,t)," ").concat(n)}else a.actualAmount=e,a.actualAmountText="".concat((0,c.formatMoney)(r)," ").concat(p.i18n[D]);return a}),[b,E,P]),v=(0,a.useMemo)((()=>{if(f.financeSettings){const n=f.financeSettings.find((n=>n.depositPaymentTypeEnum===e&&n.paymentSectionType===t));return null==n?void 0:n.settings}}),[f,e,t]);return(0,o.default)((async()=>{const t={includecollectionaccounts:n};e&&(t.depositPaymentTypeEnum=e),await Promise.all([m((0,u.getPaymentInfoTemplate)({templateType:"COLLECTION_ACCOUNT",templatePaymentType:e})),m((0,u.getDepositApplyInfo)(t))]),d(!0)})),{ready:r,currency:g.currency,showActualAmount:b,depositApplyInfo:f,financeSettings:v,paymentInfoTemplate:y,formatDepositAmount:O,getActualAmount:_}};var a=n(67294),o=r(n(70902)),i=n(37424),u=n(16833),s=n(52559),l=n(74374),c=n(90476),p=n(49595)},41535:function(e,t,n){var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,a.useDispatch)(),n=(0,a.useSelector)((e=>e.deposits.depositMethodDisplay));return(0,o.default)((()=>{n.isEmpty()&&t((0,i.getDepositMethodDisplay)())})),{paymentTypeDisplayName:n.getIn([e,"paymentTypeDisplayName"]),description:n.getIn([e,"description"])}};var a=n(37424),o=r(n(70902)),i=n(49683)},48221:function(e,t,n){var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getValidationSchema=_,t.default=function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const l=(0,s.useDispatch)(),d=(0,p.default)((e=>e.settings.financeRiskSetting)),m=(0,p.default)((e=>e.players.player)),f=(0,p.default)((e=>e.xpayments.bankList)),g=(0,p.default)((e=>e.xpayments.collections)),b=(0,p.default)((e=>e.xpayments.depositUuid)),E=(0,p.default)((e=>e.xpayments.isLoading)),v=(0,c.default)(e,g),T=(0,p.default)((e=>e.settings.activeshortcuts)),S=(0,i.useMemo)((()=>_(t,a,f)),[t,a,f]),[h,M]=(0,i.useState)(!1),A=d.get("ENCRYPT_PLAYER_NAME"),j=m.firstname,k=(0,i.useMemo)((()=>!j||A||"default"===P&&!a.depositName?"":j),[A,j,a.depositName]),F=(0,i.useCallback)((async e=>{let{collection:t,depositimage:r}=e;const a=O(O({},(0,o.default)(e,D)),{},{depositid:b}),i="th"===P?{deposittype:y.depositTypesEnum.BANK_OTHERS,playerdeposittime:Date.now()}:{},u=O(O({},a),i);r&&(u.depositimage=r,u.depositimagesize=r.size);const{payload:s}=await l(n.addDeposit(u));return s}),[P,b]);return(0,u.default)((async()=>{await Promise.all([l(r.getFinanceRiskSetting("")),l(n.getBankList()),l(n.getCollections()),l(n.getDepositUuid())]),M(!0)})),{ready:h,bankList:f,collectionList:v,activeshortcuts:T,isAddDepositLoading:E,formikProps:{initialValues:{depositamt:"",depositname:k,depositimage:null,caccountid:"",bankid:"",remarks:""},depositUuid:b,validationSchema:S,onSubmit:F}}};var a=r(n(59713)),o=r(n(6479)),i=n(67294),u=r(n(70902)),s=n(37424),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(53209)),c=r(n(53469)),p=r(n(43810)),d=n(49595),m=n(90476),f=n(34093),y=n(74374),g=n(14283);const D=["collection","depositimage"];function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const P=(g.isDesktop,"default");function _(e,t,n){const r=(0,f.depositAmountSchema)().when("collection",((e,t)=>{if(e){const n=e.get("legalMinAmt"),r=e.get("legalMaxAmt")||0,a=(0,m.formatDepositAmount)(n);if(t=t.min(n,"".concat(d.i18n["quota.min"]," ").concat(a)),r>0){const e=(0,m.formatDepositAmount)(r);t=t.max(r,"".concat(d.i18n["quota.max"]," ").concat(e))}}return t}));let a=l.string(),o=(0,f.imageFileSchema)(),i=l.string(),u=l.string(),s=l.mixed(),c=l.number();if("th"===P)null!=e&&e.REMARKS.required&&(a=a.required()),null!=e&&e.UPLOAD_SCREENSHOT.required&&(o=o.required()),null!=n&&n.size&&(i=i.required()),u=u.required();else if("default"===P){var p,y,g,D,b,E;u=u.matches(f.notContainSymbol,{excludeEmptyString:!0,message:d.i18n.notcontainssymbol}).matches(f.notContainsNumberic,{excludeEmptyString:!0,message:d.i18n.notcontainsnumber}),null!=t&&null!==(p=t.bankId)&&void 0!==p&&p.parameterRequired&&null!=n&&n.size&&(i=i.required()),null!=t&&null!==(y=t.remarks)&&void 0!==y&&y.parameterRequired&&(a=a.required()),null!=t&&null!==(g=t.depositImage)&&void 0!==g&&g.parameterRequired&&(o=o.required()),null!=t&&null!==(D=t.depositType)&&void 0!==D&&D.parameterRequired&&(s=s.required()),null!=t&&null!==(b=t.playerDepositTime)&&void 0!==b&&b.parameterRequired&&(c=c.required()),null!=t&&null!==(E=t.depositName)&&void 0!==E&&E.parameterRequired&&(u=u.required())}return l.object().shape({depositname:u,depositamt:r,caccountid:l.string().required(),bankid:i,remarks:a,depositimage:o,deposittype:s,playerdeposittime:c})}},53469:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.useMemo)((()=>{if(e&&t){const n=e.mindepositamt,r=e.maxdepositamt;return t.map((e=>{const t=e.get("mindepositamt"),a=e.get("maxdepositamt"),o=Math.max(n,t,0),i=r>0&&a>0?Math.min(r,a):Math.max(r,a);return e.set("legalMinAmt",o).set("legalMaxAmt",i)}))}}),[e,t])};var r=n(67294)},46921:function(e,t,n){var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=(0,s.useDispatch)(),l=(0,p.default)((e=>e.players.player)),f=(0,p.default)((e=>e.settings.financeRiskSetting)),y=(0,p.default)((e=>e.xpayments.bankList)),g=(0,p.default)((e=>e.xpayments.collections)),b=(0,c.default)(e,g,y),O=(0,p.default)((e=>e.xpayments.isLoading)),[P,S]=(0,i.useState)(!1),h=f.get("ENCRYPT_PLAYER_NAME"),M=l.firstname,A=(0,i.useMemo)((()=>!M||h||"default"===v&&!r.depositName?"":M),[h,M,r.depositName]),j=(0,i.useMemo)((()=>T(t,n,y,r)),[t,n,y,r]),k=(0,i.useCallback)((async e=>{const{collection:t,depositimage:n}=e,r=(0,o.default)(e,E),{payload:i}=await a((0,d.getDepositUuid)()),u=_(_({},r),{},{depositid:i,deposittype:D.depositTypesEnum.BANK_ONLINE,playerdeposittime:Date.now()});n&&(u.depositimage=n,u.depositimagesize=n.size);const{payload:s}=await a((0,d.addDeposit)(u));return s}),[n]);return(0,u.default)((async()=>{await Promise.all([a((0,m.getFinanceRiskSetting)("")),a((0,d.getBankList)()),a((0,d.getCollections)({showfrozen:!1}))]),S(!0)})),{isAddDepositLoading:O,ready:P,bankList:y,collectionList:b,formikProps:{initialValues:{depositamt:"",depositname:A,depositimage:null,caccountid:"",bankid:"",remarks:""},validationSchema:j,onSubmit:k}}};var a=r(n(59713)),o=r(n(6479)),i=n(67294),u=r(n(70902)),s=n(37424),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(53209)),c=r(n(53469)),p=r(n(43810)),d=n(16833),m=n(11461),f=n(49595),y=n(90476),g=n(34093),D=n(74374),b=n(14283);const E=["collection","depositimage"];function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const v=(b.isDesktop,"default");function T(e,t,n,r){const a=(0,g.depositAmountSchema)().when("collection",((e,t)=>{if(e){const n=e.get("legalMinAmt",0),r=e.get("legalMaxAmt",0),a=(0,y.formatDepositAmount)(n);if(t=t.min(n,"".concat(f.i18n["quota.min"]," ").concat(a)),r>0){const e=(0,y.formatDepositAmount)(r);t=t.max(r,"".concat(f.i18n["quota.max"]," ").concat(e))}}return t}));let o=l.string().matches(g.notContainSymbol,{excludeEmptyString:!0,message:f.i18n.notcontainssymbol}).matches(g.notContainsNumberic,{excludeEmptyString:!0,message:f.i18n.notcontainsnumber}),i=l.string(),u=l.string(),s=(0,g.imageFileSchema)();if("th"===v)e.UPLOAD_SCREENSHOT.required&&t&&(s=s.required()),null!=n&&n.size&&(u=u.required());else if("default"===v){var c,p,d,m;if(b.isMobile)t?(null!=r&&null!==(c=r.depositName)&&void 0!==c&&c.parameterRequired&&(o=o.required()),null!=r&&null!==(p=r.bankId)&&void 0!==p&&p.parameterRequired&&(u=u.required()),null!=r&&null!==(d=r.remarks)&&void 0!==d&&d.parameterRequired&&(i=i.required()),null!=r&&null!==(m=r.depositImage)&&void 0!==m&&m.parameterRequired&&(s=s.required())):o=l.string();else if(b.isDesktop){var D,E,O,P;t?null!=r&&null!==(D=r.depositImage)&&void 0!==D&&D.parameterRequired&&(s=s.required()):(null!=r&&null!==(E=r.depositName)&&void 0!==E&&E.parameterRequired&&(o=o.required()),null!=r&&null!==(O=r.remarks)&&void 0!==O&&O.parameterRequired&&(i=i.required()),null!=r&&null!==(P=r.bankId)&&void 0!==P&&P.parameterRequired&&(u=u.required()))}}return l.object().shape({caccountid:l.string().required(),depositamt:a,bankid:u,depositname:o,remarks:i,depositimage:s})}},7334:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,a.useDispatch)(),t=(0,a.useSelector)((e=>e.xpayments.depositPostscript));return[t,(0,r.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e((0,o.getDepositPostscript)({templatePaymentType:t}))}),[t])]};var r=n(67294),a=n(37424),o=n(16833)}}]);